# /etc/coturn/turnserver.conf

# Server Configuration
listening-port=3478
tls-listening-port=5349
listening-ip=0.0.0.0

# Relay Configuration
relay-ip=103.139.193.116
external-ip=103.139.193.116

# Port Range untuk media relay
min-port=49152
max-port=65535

# Authentication
user=webrtc:Qoei-ZyeT1RWG5oZ_qB52A

# Realm (domain untuk authentication)
realm=ruriazz.com

# Security Settings
fingerprint
lt-cred-mech

# SSL/TLS Configuration
cert=/etc/coturn/certs/turn_server_cert.pem
pkey=/etc/coturn/certs/turn_server_pkey.pem
dh-file=/etc/coturn/certs/turn_server_dh.pem

# FULL LOGGING - Semua log untuk debugging
log-file=/var/tmp/turn.log
verbose
Verbose
simple-log
log-binding
new-log-timestamp
new-log-timestamp-format

# Performance & Limits
max-bps=3000000
bps-capacity=0
stale-nonce=600
max-allocate-lifetime=3600
channel-lifetime=600
permission-lifetime=300

# Security Features (disabled beberapa untuk debug)
no-loopback-peers
no-multicast-peers
denied-peer-ip=0.0.0.0-0.255.255.255
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=172.16.0.0-172.31.255.255
denied-peer-ip=192.168.0.0-192.168.255.255

# Additional Security
no-cli
no-tlsv1
no-tlsv1_1
cipher-list="ECDHE+AESGCM:ECDHE+CHACHA20:DHE+AESGCM:DHE+CHACHA20:!aNULL:!MD5:!DSS"

# Mobility
mobility

# DEBUG MODE - Tampilkan semua output
# prod (disabled untuk debug)
# no-stdout-log (disabled untuk debug)